
<!DOCTYPE html>
<html>
<head>
    <title>Baseball Field - Move Fielders</title>
    <style>
        body { text-align: center; font-family: Arial; }
        canvas { border: 1px solid #000; margin-top: 20px; }
        button { margin-top: 10px; padding: 5px 10px; }
    </style>
</head>
<body>
    <h2>Move the Fielders</h2>
    <canvas id="field" width="600" height="600"></canvas>
    <br>
    <button onclick="resetPositions()">Reset Positions</button>

    <script>
        const canvas = document.getElementById("field");
        const ctx = canvas.getContext("2d");
        const fieldImg = new Image();
        fieldImg.src = "field.png";

        const fielders = [
            {x: 299.5, y: 492.671875, label: "C"},
            {x: 300.5, y: 360.671875, label: "P"},
            {x: 411.5, y: 344.671875, label: "1B"},
            {x: 181.5, y: 338.671875, label: "3B"},
            {x: 375.5, y: 273.671875, label: "2B"},
            {x: 224.5, y: 267.671875, label: "SS"},
            {x: 139.5, y: 200.671875, label: "LF"},
            {x: 299.5, y: 158.671875, label: "CF"},
            {x: 466.5, y: 202.671875, label: "RF"}
        ];

        const startPositions = fielders.map(f => ({x: f.x, y: f.y}));
        let dragging = null;

        fieldImg.onload = () => draw();

        function draw() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            ctx.drawImage(fieldImg, 0, 0, 600, 600);
            
            fielders.forEach((f, i) => {
                ctx.beginPath();
                ctx.moveTo(startPositions[i].x, startPositions[i].y);
                ctx.lineTo(f.x, f.y);
                ctx.strokeStyle = "red";
                ctx.lineWidth = 1;
                ctx.stroke();
            });

            fielders.forEach(f => {
                ctx.beginPath();
                ctx.arc(f.x, f.y, 8, 0, 2 * Math.PI);
                ctx.fillStyle = "blue";
                ctx.fill();
                ctx.strokeStyle = "black";
                ctx.stroke();

                ctx.fillStyle = "white";
                ctx.font = "10px Arial";
                ctx.textAlign = "center";
                ctx.textBaseline = "middle";
                ctx.fillText(f.label, f.x, f.y);
            });
        }

        function resetPositions() {
            fielders.forEach((f, i) => {
                f.x = startPositions[i].x;
                f.y = startPositions[i].y;
            });
            draw();
        }

        canvas.addEventListener("mousedown", (e) => {
            const rect = canvas.getBoundingClientRect();
            const mx = e.clientX - rect.left;
            const my = e.clientY - rect.top;
            
            fielders.forEach((f, i) => {
                const dx = mx - f.x;
                const dy = my - f.y;
                if (dx*dx + dy*dy < 64) dragging = i;
            });
        });

        canvas.addEventListener("mousemove", (e) => {
            if (dragging == null) return;
            const rect = canvas.getBoundingClientRect();
            fielders[dragging].x = e.clientX - rect.left;
            fielders[dragging].y = e.clientY - rect.top;
            draw();
        });

        canvas.addEventListener("mouseup", () => dragging = null);
        canvas.addEventListener("mouseleave", () => dragging = null);
    </script>
</body>
</html>
